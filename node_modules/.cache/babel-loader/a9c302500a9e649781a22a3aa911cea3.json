{"ast":null,"code":"var ElementType = require(\"domelementtype\");\n\nvar re_whitespace = /\\s+/g;\n\nvar NodePrototype = require(\"./lib/node\");\n\nvar ElementPrototype = require(\"./lib/element\");\n\nfunction DomHandler(callback, options, elementCB) {\n  if (typeof callback === \"object\") {\n    elementCB = options;\n    options = callback;\n    callback = null;\n  } else if (typeof options === \"function\") {\n    elementCB = options;\n    options = defaultOpts;\n  }\n\n  this._callback = callback;\n  this._options = options || defaultOpts;\n  this._elementCB = elementCB;\n  this.dom = [];\n  this._done = false;\n  this._tagStack = [];\n  this._parser = this._parser || null;\n} //default options\n\n\nvar defaultOpts = {\n  normalizeWhitespace: false,\n  //Replace all whitespace with single spaces\n  withStartIndices: false,\n  //Add startIndex properties to nodes\n  withEndIndices: false //Add endIndex properties to nodes\n\n};\n\nDomHandler.prototype.onparserinit = function (parser) {\n  this._parser = parser;\n}; //Resets the handler back to starting state\n\n\nDomHandler.prototype.onreset = function () {\n  DomHandler.call(this, this._callback, this._options, this._elementCB);\n}; //Signals the handler that parsing is done\n\n\nDomHandler.prototype.onend = function () {\n  if (this._done) return;\n  this._done = true;\n  this._parser = null;\n\n  this._handleCallback(null);\n};\n\nDomHandler.prototype._handleCallback = DomHandler.prototype.onerror = function (error) {\n  if (typeof this._callback === \"function\") {\n    this._callback(error, this.dom);\n  } else {\n    if (error) throw error;\n  }\n};\n\nDomHandler.prototype.onclosetag = function () {\n  //if(this._tagStack.pop().name !== name) this._handleCallback(Error(\"Tagname didn't match!\"));\n  var elem = this._tagStack.pop();\n\n  if (this._options.withEndIndices && elem) {\n    elem.endIndex = this._parser.endIndex;\n  }\n\n  if (this._elementCB) this._elementCB(elem);\n};\n\nDomHandler.prototype._createDomElement = function (properties) {\n  if (!this._options.withDomLvl1) return properties;\n  var element;\n\n  if (properties.type === \"tag\") {\n    element = Object.create(ElementPrototype);\n  } else {\n    element = Object.create(NodePrototype);\n  }\n\n  for (var key in properties) {\n    if (properties.hasOwnProperty(key)) {\n      element[key] = properties[key];\n    }\n  }\n\n  return element;\n};\n\nDomHandler.prototype._addDomElement = function (element) {\n  var parent = this._tagStack[this._tagStack.length - 1];\n  var siblings = parent ? parent.children : this.dom;\n  var previousSibling = siblings[siblings.length - 1];\n  element.next = null;\n\n  if (this._options.withStartIndices) {\n    element.startIndex = this._parser.startIndex;\n  }\n\n  if (this._options.withEndIndices) {\n    element.endIndex = this._parser.endIndex;\n  }\n\n  if (previousSibling) {\n    element.prev = previousSibling;\n    previousSibling.next = element;\n  } else {\n    element.prev = null;\n  }\n\n  siblings.push(element);\n  element.parent = parent || null;\n};\n\nDomHandler.prototype.onopentag = function (name, attribs) {\n  var properties = {\n    type: name === \"script\" ? ElementType.Script : name === \"style\" ? ElementType.Style : ElementType.Tag,\n    name: name,\n    attribs: attribs,\n    children: []\n  };\n\n  var element = this._createDomElement(properties);\n\n  this._addDomElement(element);\n\n  this._tagStack.push(element);\n};\n\nDomHandler.prototype.ontext = function (data) {\n  //the ignoreWhitespace is officially dropped, but for now,\n  //it's an alias for normalizeWhitespace\n  var normalize = this._options.normalizeWhitespace || this._options.ignoreWhitespace;\n  var lastTag;\n\n  if (!this._tagStack.length && this.dom.length && (lastTag = this.dom[this.dom.length - 1]).type === ElementType.Text) {\n    if (normalize) {\n      lastTag.data = (lastTag.data + data).replace(re_whitespace, \" \");\n    } else {\n      lastTag.data += data;\n    }\n  } else {\n    if (this._tagStack.length && (lastTag = this._tagStack[this._tagStack.length - 1]) && (lastTag = lastTag.children[lastTag.children.length - 1]) && lastTag.type === ElementType.Text) {\n      if (normalize) {\n        lastTag.data = (lastTag.data + data).replace(re_whitespace, \" \");\n      } else {\n        lastTag.data += data;\n      }\n    } else {\n      if (normalize) {\n        data = data.replace(re_whitespace, \" \");\n      }\n\n      var element = this._createDomElement({\n        data: data,\n        type: ElementType.Text\n      });\n\n      this._addDomElement(element);\n    }\n  }\n};\n\nDomHandler.prototype.oncomment = function (data) {\n  var lastTag = this._tagStack[this._tagStack.length - 1];\n\n  if (lastTag && lastTag.type === ElementType.Comment) {\n    lastTag.data += data;\n    return;\n  }\n\n  var properties = {\n    data: data,\n    type: ElementType.Comment\n  };\n\n  var element = this._createDomElement(properties);\n\n  this._addDomElement(element);\n\n  this._tagStack.push(element);\n};\n\nDomHandler.prototype.oncdatastart = function () {\n  var properties = {\n    children: [{\n      data: \"\",\n      type: ElementType.Text\n    }],\n    type: ElementType.CDATA\n  };\n\n  var element = this._createDomElement(properties);\n\n  this._addDomElement(element);\n\n  this._tagStack.push(element);\n};\n\nDomHandler.prototype.oncommentend = DomHandler.prototype.oncdataend = function () {\n  this._tagStack.pop();\n};\n\nDomHandler.prototype.onprocessinginstruction = function (name, data) {\n  var element = this._createDomElement({\n    name: name,\n    data: data,\n    type: ElementType.Directive\n  });\n\n  this._addDomElement(element);\n};\n\nmodule.exports = DomHandler;","map":{"version":3,"names":["ElementType","require","re_whitespace","NodePrototype","ElementPrototype","DomHandler","callback","options","elementCB","defaultOpts","_callback","_options","_elementCB","dom","_done","_tagStack","_parser","normalizeWhitespace","withStartIndices","withEndIndices","prototype","onparserinit","parser","onreset","call","onend","_handleCallback","onerror","error","onclosetag","elem","pop","endIndex","_createDomElement","properties","withDomLvl1","element","type","Object","create","key","hasOwnProperty","_addDomElement","parent","length","siblings","children","previousSibling","next","startIndex","prev","push","onopentag","name","attribs","Script","Style","Tag","ontext","data","normalize","ignoreWhitespace","lastTag","Text","replace","oncomment","Comment","oncdatastart","CDATA","oncommentend","oncdataend","onprocessinginstruction","Directive","module","exports"],"sources":["D:/cryptoStato/node_modules/domhandler/index.js"],"sourcesContent":["var ElementType = require(\"domelementtype\");\r\n\r\nvar re_whitespace = /\\s+/g;\r\nvar NodePrototype = require(\"./lib/node\");\r\nvar ElementPrototype = require(\"./lib/element\");\r\n\r\nfunction DomHandler(callback, options, elementCB){\r\n\tif(typeof callback === \"object\"){\r\n\t\telementCB = options;\r\n\t\toptions = callback;\r\n\t\tcallback = null;\r\n\t} else if(typeof options === \"function\"){\r\n\t\telementCB = options;\r\n\t\toptions = defaultOpts;\r\n\t}\r\n\tthis._callback = callback;\r\n\tthis._options = options || defaultOpts;\r\n\tthis._elementCB = elementCB;\r\n\tthis.dom = [];\r\n\tthis._done = false;\r\n\tthis._tagStack = [];\r\n\tthis._parser = this._parser || null;\r\n}\r\n\r\n//default options\r\nvar defaultOpts = {\r\n\tnormalizeWhitespace: false, //Replace all whitespace with single spaces\r\n\twithStartIndices: false, //Add startIndex properties to nodes\r\n\twithEndIndices: false, //Add endIndex properties to nodes\r\n};\r\n\r\nDomHandler.prototype.onparserinit = function(parser){\r\n\tthis._parser = parser;\r\n};\r\n\r\n//Resets the handler back to starting state\r\nDomHandler.prototype.onreset = function(){\r\n\tDomHandler.call(this, this._callback, this._options, this._elementCB);\r\n};\r\n\r\n//Signals the handler that parsing is done\r\nDomHandler.prototype.onend = function(){\r\n\tif(this._done) return;\r\n\tthis._done = true;\r\n\tthis._parser = null;\r\n\tthis._handleCallback(null);\r\n};\r\n\r\nDomHandler.prototype._handleCallback =\r\nDomHandler.prototype.onerror = function(error){\r\n\tif(typeof this._callback === \"function\"){\r\n\t\tthis._callback(error, this.dom);\r\n\t} else {\r\n\t\tif(error) throw error;\r\n\t}\r\n};\r\n\r\nDomHandler.prototype.onclosetag = function(){\r\n\t//if(this._tagStack.pop().name !== name) this._handleCallback(Error(\"Tagname didn't match!\"));\r\n\t\r\n\tvar elem = this._tagStack.pop();\r\n\r\n\tif(this._options.withEndIndices && elem){\r\n\t\telem.endIndex = this._parser.endIndex;\r\n\t}\r\n\r\n\tif(this._elementCB) this._elementCB(elem);\r\n};\r\n\r\nDomHandler.prototype._createDomElement = function(properties){\r\n\tif (!this._options.withDomLvl1) return properties;\r\n\r\n\tvar element;\r\n\tif (properties.type === \"tag\") {\r\n\t\telement = Object.create(ElementPrototype);\r\n\t} else {\r\n\t\telement = Object.create(NodePrototype);\r\n\t}\r\n\r\n\tfor (var key in properties) {\r\n\t\tif (properties.hasOwnProperty(key)) {\r\n\t\t\telement[key] = properties[key];\r\n\t\t}\r\n\t}\r\n\r\n\treturn element;\r\n};\r\n\r\nDomHandler.prototype._addDomElement = function(element){\r\n\tvar parent = this._tagStack[this._tagStack.length - 1];\r\n\tvar siblings = parent ? parent.children : this.dom;\r\n\tvar previousSibling = siblings[siblings.length - 1];\r\n\r\n\telement.next = null;\r\n\r\n\tif(this._options.withStartIndices){\r\n\t\telement.startIndex = this._parser.startIndex;\r\n\t}\r\n\tif(this._options.withEndIndices){\r\n\t\telement.endIndex = this._parser.endIndex;\r\n\t}\r\n\r\n\tif(previousSibling){\r\n\t\telement.prev = previousSibling;\r\n\t\tpreviousSibling.next = element;\r\n\t} else {\r\n\t\telement.prev = null;\r\n\t}\r\n\r\n\tsiblings.push(element);\r\n\telement.parent = parent || null;\r\n};\r\n\r\nDomHandler.prototype.onopentag = function(name, attribs){\r\n\tvar properties = {\r\n\t\ttype: name === \"script\" ? ElementType.Script : name === \"style\" ? ElementType.Style : ElementType.Tag,\r\n\t\tname: name,\r\n\t\tattribs: attribs,\r\n\t\tchildren: []\r\n\t};\r\n\r\n\tvar element = this._createDomElement(properties);\r\n\r\n\tthis._addDomElement(element);\r\n\r\n\tthis._tagStack.push(element);\r\n};\r\n\r\nDomHandler.prototype.ontext = function(data){\r\n\t//the ignoreWhitespace is officially dropped, but for now,\r\n\t//it's an alias for normalizeWhitespace\r\n\tvar normalize = this._options.normalizeWhitespace || this._options.ignoreWhitespace;\r\n\r\n\tvar lastTag;\r\n\r\n\tif(!this._tagStack.length && this.dom.length && (lastTag = this.dom[this.dom.length-1]).type === ElementType.Text){\r\n\t\tif(normalize){\r\n\t\t\tlastTag.data = (lastTag.data + data).replace(re_whitespace, \" \");\r\n\t\t} else {\r\n\t\t\tlastTag.data += data;\r\n\t\t}\r\n\t} else {\r\n\t\tif(\r\n\t\t\tthis._tagStack.length &&\r\n\t\t\t(lastTag = this._tagStack[this._tagStack.length - 1]) &&\r\n\t\t\t(lastTag = lastTag.children[lastTag.children.length - 1]) &&\r\n\t\t\tlastTag.type === ElementType.Text\r\n\t\t){\r\n\t\t\tif(normalize){\r\n\t\t\t\tlastTag.data = (lastTag.data + data).replace(re_whitespace, \" \");\r\n\t\t\t} else {\r\n\t\t\t\tlastTag.data += data;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif(normalize){\r\n\t\t\t\tdata = data.replace(re_whitespace, \" \");\r\n\t\t\t}\r\n\r\n\t\t\tvar element = this._createDomElement({\r\n\t\t\t\tdata: data,\r\n\t\t\t\ttype: ElementType.Text\r\n\t\t\t});\r\n\r\n\t\t\tthis._addDomElement(element);\r\n\t\t}\r\n\t}\r\n};\r\n\r\nDomHandler.prototype.oncomment = function(data){\r\n\tvar lastTag = this._tagStack[this._tagStack.length - 1];\r\n\r\n\tif(lastTag && lastTag.type === ElementType.Comment){\r\n\t\tlastTag.data += data;\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar properties = {\r\n\t\tdata: data,\r\n\t\ttype: ElementType.Comment\r\n\t};\r\n\r\n\tvar element = this._createDomElement(properties);\r\n\r\n\tthis._addDomElement(element);\r\n\tthis._tagStack.push(element);\r\n};\r\n\r\nDomHandler.prototype.oncdatastart = function(){\r\n\tvar properties = {\r\n\t\tchildren: [{\r\n\t\t\tdata: \"\",\r\n\t\t\ttype: ElementType.Text\r\n\t\t}],\r\n\t\ttype: ElementType.CDATA\r\n\t};\r\n\r\n\tvar element = this._createDomElement(properties);\r\n\r\n\tthis._addDomElement(element);\r\n\tthis._tagStack.push(element);\r\n};\r\n\r\nDomHandler.prototype.oncommentend = DomHandler.prototype.oncdataend = function(){\r\n\tthis._tagStack.pop();\r\n};\r\n\r\nDomHandler.prototype.onprocessinginstruction = function(name, data){\r\n\tvar element = this._createDomElement({\r\n\t\tname: name,\r\n\t\tdata: data,\r\n\t\ttype: ElementType.Directive\r\n\t});\r\n\r\n\tthis._addDomElement(element);\r\n};\r\n\r\nmodule.exports = DomHandler;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}