{"ast":null,"code":"var Tokenizer = require(\"./Tokenizer.js\");\n/*\r\n\tOptions:\r\n\r\n\txmlMode: Disables the special behavior for script/style tags (false by default)\r\n\tlowerCaseAttributeNames: call .toLowerCase for each attribute name (true if xmlMode is `false`)\r\n\tlowerCaseTags: call .toLowerCase for each tag name (true if xmlMode is `false`)\r\n*/\n\n/*\r\n\tCallbacks:\r\n\r\n\toncdataend,\r\n\toncdatastart,\r\n\tonclosetag,\r\n\toncomment,\r\n\toncommentend,\r\n\tonerror,\r\n\tonopentag,\r\n\tonprocessinginstruction,\r\n\tonreset,\r\n\tontext\r\n*/\n\n\nvar formTags = {\n  input: true,\n  option: true,\n  optgroup: true,\n  select: true,\n  button: true,\n  datalist: true,\n  textarea: true\n};\nvar openImpliesClose = {\n  tr: {\n    tr: true,\n    th: true,\n    td: true\n  },\n  th: {\n    th: true\n  },\n  td: {\n    thead: true,\n    th: true,\n    td: true\n  },\n  body: {\n    head: true,\n    link: true,\n    script: true\n  },\n  li: {\n    li: true\n  },\n  p: {\n    p: true\n  },\n  h1: {\n    p: true\n  },\n  h2: {\n    p: true\n  },\n  h3: {\n    p: true\n  },\n  h4: {\n    p: true\n  },\n  h5: {\n    p: true\n  },\n  h6: {\n    p: true\n  },\n  select: formTags,\n  input: formTags,\n  output: formTags,\n  button: formTags,\n  datalist: formTags,\n  textarea: formTags,\n  option: {\n    option: true\n  },\n  optgroup: {\n    optgroup: true\n  }\n};\nvar voidElements = {\n  __proto__: null,\n  area: true,\n  base: true,\n  basefont: true,\n  br: true,\n  col: true,\n  command: true,\n  embed: true,\n  frame: true,\n  hr: true,\n  img: true,\n  input: true,\n  isindex: true,\n  keygen: true,\n  link: true,\n  meta: true,\n  param: true,\n  source: true,\n  track: true,\n  wbr: true\n};\nvar foreignContextElements = {\n  __proto__: null,\n  math: true,\n  svg: true\n};\nvar htmlIntegrationElements = {\n  __proto__: null,\n  mi: true,\n  mo: true,\n  mn: true,\n  ms: true,\n  mtext: true,\n  \"annotation-xml\": true,\n  foreignObject: true,\n  desc: true,\n  title: true\n};\nvar re_nameEnd = /\\s|\\//;\n\nfunction Parser(cbs, options) {\n  this._options = options || {};\n  this._cbs = cbs || {};\n  this._tagname = \"\";\n  this._attribname = \"\";\n  this._attribvalue = \"\";\n  this._attribs = null;\n  this._stack = [];\n  this._foreignContext = [];\n  this.startIndex = 0;\n  this.endIndex = null;\n  this._lowerCaseTagNames = \"lowerCaseTags\" in this._options ? !!this._options.lowerCaseTags : !this._options.xmlMode;\n  this._lowerCaseAttributeNames = \"lowerCaseAttributeNames\" in this._options ? !!this._options.lowerCaseAttributeNames : !this._options.xmlMode;\n\n  if (this._options.Tokenizer) {\n    Tokenizer = this._options.Tokenizer;\n  }\n\n  this._tokenizer = new Tokenizer(this._options, this);\n  if (this._cbs.onparserinit) this._cbs.onparserinit(this);\n}\n\nrequire(\"inherits\")(Parser, require(\"events\").EventEmitter);\n\nParser.prototype._updatePosition = function (initialOffset) {\n  if (this.endIndex === null) {\n    if (this._tokenizer._sectionStart <= initialOffset) {\n      this.startIndex = 0;\n    } else {\n      this.startIndex = this._tokenizer._sectionStart - initialOffset;\n    }\n  } else this.startIndex = this.endIndex + 1;\n\n  this.endIndex = this._tokenizer.getAbsoluteIndex();\n}; //Tokenizer event handlers\n\n\nParser.prototype.ontext = function (data) {\n  this._updatePosition(1);\n\n  this.endIndex--;\n  if (this._cbs.ontext) this._cbs.ontext(data);\n};\n\nParser.prototype.onopentagname = function (name) {\n  if (this._lowerCaseTagNames) {\n    name = name.toLowerCase();\n  }\n\n  this._tagname = name;\n\n  if (!this._options.xmlMode && name in openImpliesClose) {\n    for (var el; ((el = this._stack[this._stack.length - 1]) in openImpliesClose[name]); this.onclosetag(el)) {\n      ;\n    }\n  }\n\n  if (this._options.xmlMode || !(name in voidElements)) {\n    this._stack.push(name);\n\n    if (name in foreignContextElements) this._foreignContext.push(true);else if (name in htmlIntegrationElements) this._foreignContext.push(false);\n  }\n\n  if (this._cbs.onopentagname) this._cbs.onopentagname(name);\n  if (this._cbs.onopentag) this._attribs = {};\n};\n\nParser.prototype.onopentagend = function () {\n  this._updatePosition(1);\n\n  if (this._attribs) {\n    if (this._cbs.onopentag) this._cbs.onopentag(this._tagname, this._attribs);\n    this._attribs = null;\n  }\n\n  if (!this._options.xmlMode && this._cbs.onclosetag && this._tagname in voidElements) {\n    this._cbs.onclosetag(this._tagname);\n  }\n\n  this._tagname = \"\";\n};\n\nParser.prototype.onclosetag = function (name) {\n  this._updatePosition(1);\n\n  if (this._lowerCaseTagNames) {\n    name = name.toLowerCase();\n  }\n\n  if (name in foreignContextElements || name in htmlIntegrationElements) {\n    this._foreignContext.pop();\n  }\n\n  if (this._stack.length && (!(name in voidElements) || this._options.xmlMode)) {\n    var pos = this._stack.lastIndexOf(name);\n\n    if (pos !== -1) {\n      if (this._cbs.onclosetag) {\n        pos = this._stack.length - pos;\n\n        while (pos--) {\n          this._cbs.onclosetag(this._stack.pop());\n        }\n      } else this._stack.length = pos;\n    } else if (name === \"p\" && !this._options.xmlMode) {\n      this.onopentagname(name);\n\n      this._closeCurrentTag();\n    }\n  } else if (!this._options.xmlMode && (name === \"br\" || name === \"p\")) {\n    this.onopentagname(name);\n\n    this._closeCurrentTag();\n  }\n};\n\nParser.prototype.onselfclosingtag = function () {\n  if (this._options.xmlMode || this._options.recognizeSelfClosing || this._foreignContext[this._foreignContext.length - 1]) {\n    this._closeCurrentTag();\n  } else {\n    this.onopentagend();\n  }\n};\n\nParser.prototype._closeCurrentTag = function () {\n  var name = this._tagname;\n  this.onopentagend(); //self-closing tags will be on the top of the stack\n  //(cheaper check than in onclosetag)\n\n  if (this._stack[this._stack.length - 1] === name) {\n    if (this._cbs.onclosetag) {\n      this._cbs.onclosetag(name);\n    }\n\n    this._stack.pop();\n  }\n};\n\nParser.prototype.onattribname = function (name) {\n  if (this._lowerCaseAttributeNames) {\n    name = name.toLowerCase();\n  }\n\n  this._attribname = name;\n};\n\nParser.prototype.onattribdata = function (value) {\n  this._attribvalue += value;\n};\n\nParser.prototype.onattribend = function () {\n  if (this._cbs.onattribute) this._cbs.onattribute(this._attribname, this._attribvalue);\n\n  if (this._attribs && !Object.prototype.hasOwnProperty.call(this._attribs, this._attribname)) {\n    this._attribs[this._attribname] = this._attribvalue;\n  }\n\n  this._attribname = \"\";\n  this._attribvalue = \"\";\n};\n\nParser.prototype._getInstructionName = function (value) {\n  var idx = value.search(re_nameEnd),\n      name = idx < 0 ? value : value.substr(0, idx);\n\n  if (this._lowerCaseTagNames) {\n    name = name.toLowerCase();\n  }\n\n  return name;\n};\n\nParser.prototype.ondeclaration = function (value) {\n  if (this._cbs.onprocessinginstruction) {\n    var name = this._getInstructionName(value);\n\n    this._cbs.onprocessinginstruction(\"!\" + name, \"!\" + value);\n  }\n};\n\nParser.prototype.onprocessinginstruction = function (value) {\n  if (this._cbs.onprocessinginstruction) {\n    var name = this._getInstructionName(value);\n\n    this._cbs.onprocessinginstruction(\"?\" + name, \"?\" + value);\n  }\n};\n\nParser.prototype.oncomment = function (value) {\n  this._updatePosition(4);\n\n  if (this._cbs.oncomment) this._cbs.oncomment(value);\n  if (this._cbs.oncommentend) this._cbs.oncommentend();\n};\n\nParser.prototype.oncdata = function (value) {\n  this._updatePosition(1);\n\n  if (this._options.xmlMode || this._options.recognizeCDATA) {\n    if (this._cbs.oncdatastart) this._cbs.oncdatastart();\n    if (this._cbs.ontext) this._cbs.ontext(value);\n    if (this._cbs.oncdataend) this._cbs.oncdataend();\n  } else {\n    this.oncomment(\"[CDATA[\" + value + \"]]\");\n  }\n};\n\nParser.prototype.onerror = function (err) {\n  if (this._cbs.onerror) this._cbs.onerror(err);\n};\n\nParser.prototype.onend = function () {\n  if (this._cbs.onclosetag) {\n    for (var i = this._stack.length; i > 0; this._cbs.onclosetag(this._stack[--i])) {\n      ;\n    }\n  }\n\n  if (this._cbs.onend) this._cbs.onend();\n}; //Resets the parser to a blank state, ready to parse a new HTML document\n\n\nParser.prototype.reset = function () {\n  if (this._cbs.onreset) this._cbs.onreset();\n\n  this._tokenizer.reset();\n\n  this._tagname = \"\";\n  this._attribname = \"\";\n  this._attribs = null;\n  this._stack = [];\n  if (this._cbs.onparserinit) this._cbs.onparserinit(this);\n}; //Parses a complete HTML document and pushes it to the handler\n\n\nParser.prototype.parseComplete = function (data) {\n  this.reset();\n  this.end(data);\n};\n\nParser.prototype.write = function (chunk) {\n  this._tokenizer.write(chunk);\n};\n\nParser.prototype.end = function (chunk) {\n  this._tokenizer.end(chunk);\n};\n\nParser.prototype.pause = function () {\n  this._tokenizer.pause();\n};\n\nParser.prototype.resume = function () {\n  this._tokenizer.resume();\n}; //alias for backwards compat\n\n\nParser.prototype.parseChunk = Parser.prototype.write;\nParser.prototype.done = Parser.prototype.end;\nmodule.exports = Parser;","map":{"version":3,"names":["Tokenizer","require","formTags","input","option","optgroup","select","button","datalist","textarea","openImpliesClose","tr","th","td","thead","body","head","link","script","li","p","h1","h2","h3","h4","h5","h6","output","voidElements","__proto__","area","base","basefont","br","col","command","embed","frame","hr","img","isindex","keygen","meta","param","source","track","wbr","foreignContextElements","math","svg","htmlIntegrationElements","mi","mo","mn","ms","mtext","foreignObject","desc","title","re_nameEnd","Parser","cbs","options","_options","_cbs","_tagname","_attribname","_attribvalue","_attribs","_stack","_foreignContext","startIndex","endIndex","_lowerCaseTagNames","lowerCaseTags","xmlMode","_lowerCaseAttributeNames","lowerCaseAttributeNames","_tokenizer","onparserinit","EventEmitter","prototype","_updatePosition","initialOffset","_sectionStart","getAbsoluteIndex","ontext","data","onopentagname","name","toLowerCase","el","length","onclosetag","push","onopentag","onopentagend","pop","pos","lastIndexOf","_closeCurrentTag","onselfclosingtag","recognizeSelfClosing","onattribname","onattribdata","value","onattribend","onattribute","Object","hasOwnProperty","call","_getInstructionName","idx","search","substr","ondeclaration","onprocessinginstruction","oncomment","oncommentend","oncdata","recognizeCDATA","oncdatastart","oncdataend","onerror","err","onend","i","reset","onreset","parseComplete","end","write","chunk","pause","resume","parseChunk","done","module","exports"],"sources":["D:/cryptoStato/node_modules/htmlparser2/lib/Parser.js"],"sourcesContent":["var Tokenizer = require(\"./Tokenizer.js\");\r\n\r\n/*\r\n\tOptions:\r\n\r\n\txmlMode: Disables the special behavior for script/style tags (false by default)\r\n\tlowerCaseAttributeNames: call .toLowerCase for each attribute name (true if xmlMode is `false`)\r\n\tlowerCaseTags: call .toLowerCase for each tag name (true if xmlMode is `false`)\r\n*/\r\n\r\n/*\r\n\tCallbacks:\r\n\r\n\toncdataend,\r\n\toncdatastart,\r\n\tonclosetag,\r\n\toncomment,\r\n\toncommentend,\r\n\tonerror,\r\n\tonopentag,\r\n\tonprocessinginstruction,\r\n\tonreset,\r\n\tontext\r\n*/\r\n\r\nvar formTags = {\r\n    input: true,\r\n    option: true,\r\n    optgroup: true,\r\n    select: true,\r\n    button: true,\r\n    datalist: true,\r\n    textarea: true\r\n};\r\n\r\nvar openImpliesClose = {\r\n    tr: { tr: true, th: true, td: true },\r\n    th: { th: true },\r\n    td: { thead: true, th: true, td: true },\r\n    body: { head: true, link: true, script: true },\r\n    li: { li: true },\r\n    p: { p: true },\r\n    h1: { p: true },\r\n    h2: { p: true },\r\n    h3: { p: true },\r\n    h4: { p: true },\r\n    h5: { p: true },\r\n    h6: { p: true },\r\n    select: formTags,\r\n    input: formTags,\r\n    output: formTags,\r\n    button: formTags,\r\n    datalist: formTags,\r\n    textarea: formTags,\r\n    option: { option: true },\r\n    optgroup: { optgroup: true }\r\n};\r\n\r\nvar voidElements = {\r\n    __proto__: null,\r\n    area: true,\r\n    base: true,\r\n    basefont: true,\r\n    br: true,\r\n    col: true,\r\n    command: true,\r\n    embed: true,\r\n    frame: true,\r\n    hr: true,\r\n    img: true,\r\n    input: true,\r\n    isindex: true,\r\n    keygen: true,\r\n    link: true,\r\n    meta: true,\r\n    param: true,\r\n    source: true,\r\n    track: true,\r\n    wbr: true\r\n};\r\n\r\nvar foreignContextElements = {\r\n    __proto__: null,\r\n    math: true,\r\n    svg: true\r\n};\r\nvar htmlIntegrationElements = {\r\n    __proto__: null,\r\n    mi: true,\r\n    mo: true,\r\n    mn: true,\r\n    ms: true,\r\n    mtext: true,\r\n    \"annotation-xml\": true,\r\n    foreignObject: true,\r\n    desc: true,\r\n    title: true\r\n};\r\n\r\nvar re_nameEnd = /\\s|\\//;\r\n\r\nfunction Parser(cbs, options) {\r\n    this._options = options || {};\r\n    this._cbs = cbs || {};\r\n\r\n    this._tagname = \"\";\r\n    this._attribname = \"\";\r\n    this._attribvalue = \"\";\r\n    this._attribs = null;\r\n    this._stack = [];\r\n    this._foreignContext = [];\r\n\r\n    this.startIndex = 0;\r\n    this.endIndex = null;\r\n\r\n    this._lowerCaseTagNames =\r\n        \"lowerCaseTags\" in this._options\r\n            ? !!this._options.lowerCaseTags\r\n            : !this._options.xmlMode;\r\n    this._lowerCaseAttributeNames =\r\n        \"lowerCaseAttributeNames\" in this._options\r\n            ? !!this._options.lowerCaseAttributeNames\r\n            : !this._options.xmlMode;\r\n\r\n    if (this._options.Tokenizer) {\r\n        Tokenizer = this._options.Tokenizer;\r\n    }\r\n    this._tokenizer = new Tokenizer(this._options, this);\r\n\r\n    if (this._cbs.onparserinit) this._cbs.onparserinit(this);\r\n}\r\n\r\nrequire(\"inherits\")(Parser, require(\"events\").EventEmitter);\r\n\r\nParser.prototype._updatePosition = function(initialOffset) {\r\n    if (this.endIndex === null) {\r\n        if (this._tokenizer._sectionStart <= initialOffset) {\r\n            this.startIndex = 0;\r\n        } else {\r\n            this.startIndex = this._tokenizer._sectionStart - initialOffset;\r\n        }\r\n    } else this.startIndex = this.endIndex + 1;\r\n    this.endIndex = this._tokenizer.getAbsoluteIndex();\r\n};\r\n\r\n//Tokenizer event handlers\r\nParser.prototype.ontext = function(data) {\r\n    this._updatePosition(1);\r\n    this.endIndex--;\r\n\r\n    if (this._cbs.ontext) this._cbs.ontext(data);\r\n};\r\n\r\nParser.prototype.onopentagname = function(name) {\r\n    if (this._lowerCaseTagNames) {\r\n        name = name.toLowerCase();\r\n    }\r\n\r\n    this._tagname = name;\r\n\r\n    if (!this._options.xmlMode && name in openImpliesClose) {\r\n        for (\r\n            var el;\r\n            (el = this._stack[this._stack.length - 1]) in\r\n            openImpliesClose[name];\r\n            this.onclosetag(el)\r\n        );\r\n    }\r\n\r\n    if (this._options.xmlMode || !(name in voidElements)) {\r\n        this._stack.push(name);\r\n        if (name in foreignContextElements) this._foreignContext.push(true);\r\n        else if (name in htmlIntegrationElements)\r\n            this._foreignContext.push(false);\r\n    }\r\n\r\n    if (this._cbs.onopentagname) this._cbs.onopentagname(name);\r\n    if (this._cbs.onopentag) this._attribs = {};\r\n};\r\n\r\nParser.prototype.onopentagend = function() {\r\n    this._updatePosition(1);\r\n\r\n    if (this._attribs) {\r\n        if (this._cbs.onopentag)\r\n            this._cbs.onopentag(this._tagname, this._attribs);\r\n        this._attribs = null;\r\n    }\r\n\r\n    if (\r\n        !this._options.xmlMode &&\r\n        this._cbs.onclosetag &&\r\n        this._tagname in voidElements\r\n    ) {\r\n        this._cbs.onclosetag(this._tagname);\r\n    }\r\n\r\n    this._tagname = \"\";\r\n};\r\n\r\nParser.prototype.onclosetag = function(name) {\r\n    this._updatePosition(1);\r\n\r\n    if (this._lowerCaseTagNames) {\r\n        name = name.toLowerCase();\r\n    }\r\n    \r\n    if (name in foreignContextElements || name in htmlIntegrationElements) {\r\n        this._foreignContext.pop();\r\n    }\r\n\r\n    if (\r\n        this._stack.length &&\r\n        (!(name in voidElements) || this._options.xmlMode)\r\n    ) {\r\n        var pos = this._stack.lastIndexOf(name);\r\n        if (pos !== -1) {\r\n            if (this._cbs.onclosetag) {\r\n                pos = this._stack.length - pos;\r\n                while (pos--) this._cbs.onclosetag(this._stack.pop());\r\n            } else this._stack.length = pos;\r\n        } else if (name === \"p\" && !this._options.xmlMode) {\r\n            this.onopentagname(name);\r\n            this._closeCurrentTag();\r\n        }\r\n    } else if (!this._options.xmlMode && (name === \"br\" || name === \"p\")) {\r\n        this.onopentagname(name);\r\n        this._closeCurrentTag();\r\n    }\r\n};\r\n\r\nParser.prototype.onselfclosingtag = function() {\r\n    if (\r\n        this._options.xmlMode ||\r\n        this._options.recognizeSelfClosing ||\r\n        this._foreignContext[this._foreignContext.length - 1]\r\n    ) {\r\n        this._closeCurrentTag();\r\n    } else {\r\n        this.onopentagend();\r\n    }\r\n};\r\n\r\nParser.prototype._closeCurrentTag = function() {\r\n    var name = this._tagname;\r\n\r\n    this.onopentagend();\r\n\r\n    //self-closing tags will be on the top of the stack\r\n    //(cheaper check than in onclosetag)\r\n    if (this._stack[this._stack.length - 1] === name) {\r\n        if (this._cbs.onclosetag) {\r\n            this._cbs.onclosetag(name);\r\n        }\r\n        this._stack.pop();\r\n        \r\n    }\r\n};\r\n\r\nParser.prototype.onattribname = function(name) {\r\n    if (this._lowerCaseAttributeNames) {\r\n        name = name.toLowerCase();\r\n    }\r\n    this._attribname = name;\r\n};\r\n\r\nParser.prototype.onattribdata = function(value) {\r\n    this._attribvalue += value;\r\n};\r\n\r\nParser.prototype.onattribend = function() {\r\n    if (this._cbs.onattribute)\r\n        this._cbs.onattribute(this._attribname, this._attribvalue);\r\n    if (\r\n        this._attribs &&\r\n        !Object.prototype.hasOwnProperty.call(this._attribs, this._attribname)\r\n    ) {\r\n        this._attribs[this._attribname] = this._attribvalue;\r\n    }\r\n    this._attribname = \"\";\r\n    this._attribvalue = \"\";\r\n};\r\n\r\nParser.prototype._getInstructionName = function(value) {\r\n    var idx = value.search(re_nameEnd),\r\n        name = idx < 0 ? value : value.substr(0, idx);\r\n\r\n    if (this._lowerCaseTagNames) {\r\n        name = name.toLowerCase();\r\n    }\r\n\r\n    return name;\r\n};\r\n\r\nParser.prototype.ondeclaration = function(value) {\r\n    if (this._cbs.onprocessinginstruction) {\r\n        var name = this._getInstructionName(value);\r\n        this._cbs.onprocessinginstruction(\"!\" + name, \"!\" + value);\r\n    }\r\n};\r\n\r\nParser.prototype.onprocessinginstruction = function(value) {\r\n    if (this._cbs.onprocessinginstruction) {\r\n        var name = this._getInstructionName(value);\r\n        this._cbs.onprocessinginstruction(\"?\" + name, \"?\" + value);\r\n    }\r\n};\r\n\r\nParser.prototype.oncomment = function(value) {\r\n    this._updatePosition(4);\r\n\r\n    if (this._cbs.oncomment) this._cbs.oncomment(value);\r\n    if (this._cbs.oncommentend) this._cbs.oncommentend();\r\n};\r\n\r\nParser.prototype.oncdata = function(value) {\r\n    this._updatePosition(1);\r\n\r\n    if (this._options.xmlMode || this._options.recognizeCDATA) {\r\n        if (this._cbs.oncdatastart) this._cbs.oncdatastart();\r\n        if (this._cbs.ontext) this._cbs.ontext(value);\r\n        if (this._cbs.oncdataend) this._cbs.oncdataend();\r\n    } else {\r\n        this.oncomment(\"[CDATA[\" + value + \"]]\");\r\n    }\r\n};\r\n\r\nParser.prototype.onerror = function(err) {\r\n    if (this._cbs.onerror) this._cbs.onerror(err);\r\n};\r\n\r\nParser.prototype.onend = function() {\r\n    if (this._cbs.onclosetag) {\r\n        for (\r\n            var i = this._stack.length;\r\n            i > 0;\r\n            this._cbs.onclosetag(this._stack[--i])\r\n        );\r\n    }\r\n    if (this._cbs.onend) this._cbs.onend();\r\n};\r\n\r\n//Resets the parser to a blank state, ready to parse a new HTML document\r\nParser.prototype.reset = function() {\r\n    if (this._cbs.onreset) this._cbs.onreset();\r\n    this._tokenizer.reset();\r\n\r\n    this._tagname = \"\";\r\n    this._attribname = \"\";\r\n    this._attribs = null;\r\n    this._stack = [];\r\n\r\n    if (this._cbs.onparserinit) this._cbs.onparserinit(this);\r\n};\r\n\r\n//Parses a complete HTML document and pushes it to the handler\r\nParser.prototype.parseComplete = function(data) {\r\n    this.reset();\r\n    this.end(data);\r\n};\r\n\r\nParser.prototype.write = function(chunk) {\r\n    this._tokenizer.write(chunk);\r\n};\r\n\r\nParser.prototype.end = function(chunk) {\r\n    this._tokenizer.end(chunk);\r\n};\r\n\r\nParser.prototype.pause = function() {\r\n    this._tokenizer.pause();\r\n};\r\n\r\nParser.prototype.resume = function() {\r\n    this._tokenizer.resume();\r\n};\r\n\r\n//alias for backwards compat\r\nParser.prototype.parseChunk = Parser.prototype.write;\r\nParser.prototype.done = Parser.prototype.end;\r\n\r\nmodule.exports = Parser;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}